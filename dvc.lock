schema: '2.0'
stages:
  get_data:
    cmd: python scripts/get_data.py
    deps:
    - path: scripts/get_data.py
      hash: md5
      md5: 900657c99943c1eb0b2a24bdb2d07f4b
      size: 534
    params:
      params.yaml:
        get_data:
          dataset_url: 
            https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv
          out_path: data/raw/titanic.csv
    outs:
    - path: data/raw
      hash: md5
      md5: 5462f90f9dc17707f448ff97428ca171.dir
      size: 60302
      nfiles: 1
  preprocess:
    cmd: python scripts/preprocess_spark.py
    deps:
    - path: data/raw
      hash: md5
      md5: 5462f90f9dc17707f448ff97428ca171.dir
      size: 60302
      nfiles: 1
    - path: scripts/preprocess_spark.py
      hash: md5
      md5: 2e19e225917bc35228017be8e7328d04
      size: 1410
    params:
      params.yaml:
        preprocess:
          output_dir: features
    outs:
    - path: features
      hash: md5
      md5: 178f1ff965ef9e34c4b8e818cdf2f5d4.dir
      size: 6756
      nfiles: 4
  train:
    cmd: python src/train.py
    deps:
    - path: features
      hash: md5
      md5: 178f1ff965ef9e34c4b8e818cdf2f5d4.dir
      size: 6756
      nfiles: 4
    - path: src/train.py
      hash: md5
      md5: cc54f66ff9649ad3e08acee2fbfd5ad2
      size: 1296
    outs:
    - path: model
      hash: md5
      md5: 4ee6be65942ce4af11b2db695173573f.dir
      size: 1183
      nfiles: 1
